<!--TODO: add user information and menu information from app.component-->
<!--User Info-->
<section id="menu-container">
  <div id="user-info-card" *ngIf="user.isLoggedin$ | async">
    <div id="shop-container">
      <name-value-pair-single-dropdown-selection
        [(selected)]="selectedShop"
        [selection]="shopSelection"
        [isRequiredTitle]="false"
        (selectedChange)="handleCurrentShopChange()"
        id="user-shop-list"></name-value-pair-single-dropdown-selection>
    </div>
    <ion-card-header>
      <div id="user-info-title">
        <ion-card-title
          ><u id="user-name">
            {{ (user.data$ | async)?.firstName }} {{ (user.data$ | async)?.lastName }}</u
          ></ion-card-title
        >
        <ion-card-subtitle
          ><p *ngIf="{ role: user.currentRole$ | async } as data">
            {{ data.role?.name | languageTransform | async }}
          </p></ion-card-subtitle
        >
      </div>
    </ion-card-header>
  </div>

  <!--Menu-->
  <div id="menu">
    <ion-accordion-group *ngIf="user.isLoggedin$ | async">
      <!--Route Link-->
      <ion-accordion *ngFor="let menu of menus">
        <!--Header-->
        <ion-item slot="header" [ngClass]="menu.name === selectedTitleHeading ? 'active' : ''">
          <ion-icon slot="start" [name]="menu.icon"></ion-icon>
          {{ menu.name | languageTransform | async }}
        </ion-item>

        <!--Content-->
        <ion-list slot="content" *ngFor="let content of menu.content">
          <ion-item
            button
            routerLink="{{ content.url }}"
            routerLinkActive="active"
            (click)="onChangeMenu(content.url)">
            <ion-label>
              <ion-icon slot="start" name="{{ content.icon }}"></ion-icon>
              {{ content.name | languageTransform | async }}
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-accordion>
    </ion-accordion-group>
  </div>

  <section id="log-out" *ngIf="user.isLoggedin$ | async">
    <ion-button expand="block" id="log-out-btn" (click)="logout()">
      {{ 'button.title.logout' | languageTransform | async }}</ion-button
    >
  </section>
  <section id="log-in" *ngIf="user.isLoggedout$ | async">
    <ion-button expand="block" id="log-in-btn" (click)="login()">
      {{ 'button.title.login' | languageTransform | async }}</ion-button
    >
  </section>
</section>
